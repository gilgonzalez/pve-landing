import{R as F}from"./index.BKz8HbS8.js";/* empty css                       */var Ne={exports:{}},de={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze;function jr(){if(Ze)return de;Ze=1;var e=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(i,l,n){var u=null;if(n!==void 0&&(u=""+n),l.key!==void 0&&(u=""+l.key),"key"in l){n={};for(var c in l)c!=="key"&&(n[c]=l[c])}else n=l;return l=n.ref,{$$typeof:e,type:i,key:u,ref:l!==void 0?l:null,props:n}}return de.Fragment=s,de.jsx=r,de.jsxs=r,de}var Ke;function Lr(){return Ke||(Ke=1,Ne.exports=jr()),Ne.exports}var x=Lr(),ge=e=>e.type==="checkbox",ne=e=>e instanceof Date,$=e=>e==null;const yr=e=>typeof e=="object";var L=e=>!$(e)&&!Array.isArray(e)&&yr(e)&&!ne(e),hr=e=>L(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Mr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mr=(e,s)=>e.has(Mr(s)),Or=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Le=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(e){let s;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Le&&(e instanceof Blob||i))&&(r||L(e)))if(s=r?[]:{},!r&&!Or(e))s=e;else for(const l in e)e.hasOwnProperty(l)&&(s[l]=U(e[l]));else return e;return s}var Ee=e=>/^\w*$/.test(e),j=e=>e===void 0,Me=e=>Array.isArray(e)?e.filter(Boolean):[],Oe=e=>Me(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,r)=>{if(!s||!L(e))return r;const i=(Ee(s)?[s]:Oe(s)).reduce((l,n)=>$(l)?l:l[n],e);return j(i)||i===e?j(e[s])?r:e[s]:i},J=e=>typeof e=="boolean",R=(e,s,r)=>{let i=-1;const l=Ee(s)?[s]:Oe(s),n=l.length,u=n-1;for(;++i<n;){const c=l[i];let V=r;if(i!==u){const k=e[c];V=L(k)||Array.isArray(k)?k:isNaN(+l[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=V,e=e[c]}};const Ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ue=F.createContext(null);Ue.displayName="HookFormContext";const ae=()=>F.useContext(Ue),Ur=e=>{const{children:s,...r}=e;return F.createElement(Ue.Provider,{value:r},s)};var gr=(e,s,r,i=!0)=>{const l={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const u=n;return s._proxyFormState[u]!==z.all&&(s._proxyFormState[u]=!i||z.all),r&&(r[u]=!0),e[u]}});return l};const Pe=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Pr(e){const s=ae(),{control:r=s.control,disabled:i,name:l,exact:n}=e||{},[u,c]=F.useState(r._formState),V=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>r._subscribe({name:l,formState:V.current,exact:n,callback:k=>{!i&&c({...r._formState,...k})}}),[l,i,n]),F.useEffect(()=>{V.current.isValid&&r._setValid(!0)},[r]),F.useMemo(()=>gr(u,r,V.current,!1),[u,r])}var K=e=>typeof e=="string",vr=(e,s,r,i,l)=>K(e)?(i&&s.watch.add(e),y(r,e,l)):Array.isArray(e)?e.map(n=>(i&&s.watch.add(n),y(r,n))):(i&&(s.watchAll=!0),r),je=e=>$(e)||!yr(e);function re(e,s,r=new WeakSet){if(je(e)||je(s))return e===s;if(ne(e)&&ne(s))return e.getTime()===s.getTime();const i=Object.keys(e),l=Object.keys(s);if(i.length!==l.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const n of i){const u=e[n];if(!l.includes(n))return!1;if(n!=="ref"){const c=s[n];if(ne(u)&&ne(c)||L(u)&&L(c)||Array.isArray(u)&&Array.isArray(c)?!re(u,c,r):u!==c)return!1}}return!0}function Br(e){const s=ae(),{control:r=s.control,name:i,defaultValue:l,disabled:n,exact:u,compute:c}=e||{},V=F.useRef(l),k=F.useRef(c),b=F.useRef(void 0);k.current=c;const p=F.useMemo(()=>r._getWatch(i,V.current),[r,i]),[_,H]=F.useState(k.current?k.current(p):p);return Pe(()=>r._subscribe({name:i,formState:{values:!0},exact:u,callback:B=>{if(!n){const D=vr(i,r._names,B.values||r._formValues,!1,V.current);if(k.current){const m=k.current(D);re(m,b.current)||(H(m),b.current=m)}else H(D)}}}),[r,n,i,u]),F.useEffect(()=>r._removeUnmounted()),_}function Ir(e){const s=ae(),{name:r,disabled:i,control:l=s.control,shouldUnregister:n,defaultValue:u}=e,c=mr(l._names.array,r),V=F.useMemo(()=>y(l._formValues,r,y(l._defaultValues,r,u)),[l,r,u]),k=Br({control:l,name:r,defaultValue:V,exact:!0}),b=Pr({control:l,name:r,exact:!0}),p=F.useRef(e),_=F.useRef(l.register(r,{...e.rules,value:k,...J(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;const H=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(b.errors,r)},isDirty:{enumerable:!0,get:()=>!!y(b.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!y(b.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!y(b.validatingFields,r)},error:{enumerable:!0,get:()=>y(b.errors,r)}}),[b,r]),B=F.useCallback(v=>_.current.onChange({target:{value:hr(v),name:r},type:Ve.CHANGE}),[r]),D=F.useCallback(()=>_.current.onBlur({target:{value:y(l._formValues,r),name:r},type:Ve.BLUR}),[r,l._formValues]),m=F.useCallback(v=>{const P=y(l._fields,r);P&&v&&(P._f.ref={focus:()=>v.focus&&v.focus(),select:()=>v.select&&v.select(),setCustomValidity:O=>v.setCustomValidity(O),reportValidity:()=>v.reportValidity()})},[l._fields,r]),A=F.useMemo(()=>({name:r,value:k,...J(i)||b.disabled?{disabled:b.disabled||i}:{},onChange:B,onBlur:D,ref:m}),[r,i,b.disabled,B,D,m,k]);return F.useEffect(()=>{const v=l._options.shouldUnregister||n;l.register(r,{...p.current.rules,...J(p.current.disabled)?{disabled:p.current.disabled}:{}});const P=(O,N)=>{const te=y(l._fields,O);te&&te._f&&(te._f.mount=N)};if(P(r,!0),v){const O=U(y(l._options.defaultValues,r));R(l._defaultValues,r,O),j(y(l._formValues,r))&&R(l._formValues,r,O)}return!c&&l.register(r),()=>{(c?v&&!l._state.action:v)?l.unregister(r):P(r,!1)}},[r,l,c,n]),F.useEffect(()=>{l._setDisabledField({disabled:i,name:r})},[i,r,l]),F.useMemo(()=>({field:A,formState:b,fieldState:H}),[A,b,H])}const ve=e=>e.render(Ir(e));var $r=(e,s,r,i,l)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:l||!0}}:{},he=e=>Array.isArray(e)?e:[e],er=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}},W=e=>L(e)&&!Object.keys(e).length,Be=e=>e.type==="file",Q=e=>typeof e=="function",Fe=e=>{if(!Le)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},xr=e=>e.type==="select-multiple",Ie=e=>e.type==="radio",qr=e=>Ie(e)||ge(e),Te=e=>Fe(e)&&e.isConnected;function Wr(e,s){const r=s.slice(0,-1).length;let i=0;for(;i<r;)e=j(e)?i++:e[s[i++]];return e}function Hr(e){for(const s in e)if(e.hasOwnProperty(s)&&!j(e[s]))return!1;return!0}function M(e,s){const r=Array.isArray(s)?s:Ee(s)?[s]:Oe(s),i=r.length===1?e:Wr(e,r),l=r.length-1,n=r[l];return i&&delete i[n],l!==0&&(L(i)&&W(i)||Array.isArray(i)&&Hr(i))&&M(e,r.slice(0,-1)),e}var br=e=>{for(const s in e)if(Q(e[s]))return!0;return!1};function Ae(e,s={}){const r=Array.isArray(e);if(L(e)||r)for(const i in e)Array.isArray(e[i])||L(e[i])&&!br(e[i])?(s[i]=Array.isArray(e[i])?[]:{},Ae(e[i],s[i])):$(e[i])||(s[i]=!0);return s}function _r(e,s,r){const i=Array.isArray(e);if(L(e)||i)for(const l in e)Array.isArray(e[l])||L(e[l])&&!br(e[l])?j(s)||je(r[l])?r[l]=Array.isArray(e[l])?Ae(e[l],[]):{...Ae(e[l])}:_r(e[l],$(s)?{}:s[l],r[l]):r[l]=!re(e[l],s[l]);return r}var fe=(e,s)=>_r(e,s,Ae(s));const rr={value:!1,isValid:!1},tr={value:!0,isValid:!0};var Vr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!j(e[0].attributes.value)?j(e[0].value)||e[0].value===""?tr:{value:e[0].value,isValid:!0}:tr:rr}return rr},Fr=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:i})=>j(e)?e:s?e===""?NaN:e&&+e:r&&K(e)?new Date(e):i?i(e):e;const sr={isValid:!1,value:null};var Ar=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,sr):sr;function ir(e){const s=e.ref;return Be(s)?s.files:Ie(s)?Ar(e.refs).value:xr(s)?[...s.selectedOptions].map(({value:r})=>r):ge(s)?Vr(e.refs).value:Fr(j(s.value)?e.ref.value:s.value,e)}var Jr=(e,s,r,i)=>{const l={};for(const n of e){const u=y(s,n);u&&R(l,n,u._f)}return{criteriaMode:r,names:[...e],fields:l,shouldUseNativeValidation:i}},ke=e=>e instanceof RegExp,ye=e=>j(e)?e:ke(e)?e.source:L(e)?ke(e.value)?e.value.source:e.value:e,ar=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const lr="AsyncFunction";var Yr=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===lr||L(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===lr)),Gr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),nr=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,s,r,i)=>{for(const l of r||Object.keys(e)){const n=y(e,l);if(n){const{_f:u,...c}=n;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],l)&&!i)return!0;if(u.ref&&s(u.ref,u.name)&&!i)return!0;if(me(c,s))break}else if(L(c)&&me(c,s))break}}};function or(e,s,r){const i=y(e,r);if(i||Ee(r))return{error:i,name:r};const l=r.split(".");for(;l.length;){const n=l.join("."),u=y(s,n),c=y(e,n);if(u&&!Array.isArray(u)&&r!==n)return{name:r};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};l.pop()}return{name:r}}var zr=(e,s,r,i)=>{r(e);const{name:l,...n}=e;return W(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(u=>s[u]===(!i||z.all))},Qr=(e,s,r)=>!e||!s||e===s||he(e).some(i=>i&&(r?i===s:i.startsWith(s)||s.startsWith(i))),Xr=(e,s,r,i,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(s||e):(r?i.isOnBlur:l.isOnBlur)?!e:(r?i.isOnChange:l.isOnChange)?e:!0,Zr=(e,s)=>!Me(y(e,s)).length&&M(e,s),Kr=(e,s,r)=>{const i=he(y(e,r));return R(i,"root",s[r]),R(e,r,i),e},_e=e=>K(e);function ur(e,s,r="validate"){if(_e(e)||Array.isArray(e)&&e.every(_e)||J(e)&&!e)return{type:r,message:_e(e)?e:"",ref:s}}var ue=e=>L(e)&&!ke(e)?e:{value:e,message:""},cr=async(e,s,r,i,l,n)=>{const{ref:u,refs:c,required:V,maxLength:k,minLength:b,min:p,max:_,pattern:H,validate:B,name:D,valueAsNumber:m,mount:A}=e._f,v=y(r,D);if(!A||s.has(D))return{};const P=c?c[0]:u,O=E=>{l&&P.reportValidity&&(P.setCustomValidity(J(E)?"":E||""),P.reportValidity())},N={},te=Ie(u),se=ge(u),pe=te||se,G=(m||Be(u))&&j(u.value)&&j(v)||Fe(u)&&u.value===""||v===""||Array.isArray(v)&&!v.length,le=$r.bind(null,D,i,N),X=(E,S,T,I=ee.maxLength,q=ee.minLength)=>{const Z=E?S:T;N[D]={type:E?I:q,message:Z,ref:u,...le(E?I:q,Z)}};if(n?!Array.isArray(v)||!v.length:V&&(!pe&&(G||$(v))||J(v)&&!v||se&&!Vr(c).isValid||te&&!Ar(c).isValid)){const{value:E,message:S}=_e(V)?{value:!!V,message:V}:ue(V);if(E&&(N[D]={type:ee.required,message:S,ref:P,...le(ee.required,S)},!i))return O(S),N}if(!G&&(!$(p)||!$(_))){let E,S;const T=ue(_),I=ue(p);if(!$(v)&&!isNaN(v)){const q=u.valueAsNumber||v&&+v;$(T.value)||(E=q>T.value),$(I.value)||(S=q<I.value)}else{const q=u.valueAsDate||new Date(v),Z=xe=>new Date(new Date().toDateString()+" "+xe),ce=u.type=="time",oe=u.type=="week";K(T.value)&&v&&(E=ce?Z(v)>Z(T.value):oe?v>T.value:q>new Date(T.value)),K(I.value)&&v&&(S=ce?Z(v)<Z(I.value):oe?v<I.value:q<new Date(I.value))}if((E||S)&&(X(!!E,T.message,I.message,ee.max,ee.min),!i))return O(N[D].message),N}if((k||b)&&!G&&(K(v)||n&&Array.isArray(v))){const E=ue(k),S=ue(b),T=!$(E.value)&&v.length>+E.value,I=!$(S.value)&&v.length<+S.value;if((T||I)&&(X(T,E.message,S.message),!i))return O(N[D].message),N}if(H&&!G&&K(v)){const{value:E,message:S}=ue(H);if(ke(E)&&!v.match(E)&&(N[D]={type:ee.pattern,message:S,ref:u,...le(ee.pattern,S)},!i))return O(S),N}if(B){if(Q(B)){const E=await B(v,r),S=ur(E,P);if(S&&(N[D]={...S,...le(ee.validate,S.message)},!i))return O(S.message),N}else if(L(B)){let E={};for(const S in B){if(!W(E)&&!i)break;const T=ur(await B[S](v,r),P,S);T&&(E={...T,...le(S,T.message)},O(T.message),i&&(N[D]=E))}if(!W(E)&&(N[D]={ref:P,...E},!i))return N}}return O(!0),N};const et={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function rt(e={}){let s={...et,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},l=L(s.defaultValues)||L(s.values)?U(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:U(l),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},V,k=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...b};const _={array:er(),state:er()},H=s.criteriaMode===z.all,B=t=>a=>{clearTimeout(k),k=setTimeout(t,a)},D=async t=>{if(!s.disabled&&(b.isValid||p.isValid||t)){const a=s.resolver?W((await se()).errors):await G(i,!0);a!==r.isValid&&_.state.next({isValid:a})}},m=(t,a)=>{!s.disabled&&(b.isValidating||b.validatingFields||p.isValidating||p.validatingFields)&&((t||Array.from(c.mount)).forEach(o=>{o&&(a?R(r.validatingFields,o,a):M(r.validatingFields,o))}),_.state.next({validatingFields:r.validatingFields,isValidating:!W(r.validatingFields)}))},A=(t,a=[],o,h,f=!0,d=!0)=>{if(h&&o&&!s.disabled){if(u.action=!0,d&&Array.isArray(y(i,t))){const g=o(y(i,t),h.argA,h.argB);f&&R(i,t,g)}if(d&&Array.isArray(y(r.errors,t))){const g=o(y(r.errors,t),h.argA,h.argB);f&&R(r.errors,t,g),Zr(r.errors,t)}if((b.touchedFields||p.touchedFields)&&d&&Array.isArray(y(r.touchedFields,t))){const g=o(y(r.touchedFields,t),h.argA,h.argB);f&&R(r.touchedFields,t,g)}(b.dirtyFields||p.dirtyFields)&&(r.dirtyFields=fe(l,n)),_.state.next({name:t,isDirty:X(t,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else R(n,t,a)},v=(t,a)=>{R(r.errors,t,a),_.state.next({errors:r.errors})},P=t=>{r.errors=t,_.state.next({errors:r.errors,isValid:!1})},O=(t,a,o,h)=>{const f=y(i,t);if(f){const d=y(n,t,j(o)?y(l,t):o);j(d)||h&&h.defaultChecked||a?R(n,t,a?d:ir(f._f)):T(t,d),u.mount&&D()}},N=(t,a,o,h,f)=>{let d=!1,g=!1;const w={name:t};if(!s.disabled){if(!o||h){(b.isDirty||p.isDirty)&&(g=r.isDirty,r.isDirty=w.isDirty=X(),d=g!==w.isDirty);const C=re(y(l,t),a);g=!!y(r.dirtyFields,t),C?M(r.dirtyFields,t):R(r.dirtyFields,t,!0),w.dirtyFields=r.dirtyFields,d=d||(b.dirtyFields||p.dirtyFields)&&g!==!C}if(o){const C=y(r.touchedFields,t);C||(R(r.touchedFields,t,o),w.touchedFields=r.touchedFields,d=d||(b.touchedFields||p.touchedFields)&&C!==o)}d&&f&&_.state.next(w)}return d?w:{}},te=(t,a,o,h)=>{const f=y(r.errors,t),d=(b.isValid||p.isValid)&&J(a)&&r.isValid!==a;if(s.delayError&&o?(V=B(()=>v(t,o)),V(s.delayError)):(clearTimeout(k),V=null,o?R(r.errors,t,o):M(r.errors,t)),(o?!re(f,o):f)||!W(h)||d){const g={...h,...d&&J(a)?{isValid:a}:{},errors:r.errors,name:t};r={...r,...g},_.state.next(g)}},se=async t=>{m(t,!0);const a=await s.resolver(n,s.context,Jr(t||c.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return m(t),a},pe=async t=>{const{errors:a}=await se(t);if(t)for(const o of t){const h=y(a,o);h?R(r.errors,o,h):M(r.errors,o)}else r.errors=a;return a},G=async(t,a,o={valid:!0})=>{for(const h in t){const f=t[h];if(f){const{_f:d,...g}=f;if(d){const w=c.array.has(d.name),C=f._f&&Yr(f._f);C&&b.validatingFields&&m([h],!0);const Y=await cr(f,c.disabled,n,H,s.shouldUseNativeValidation&&!a,w);if(C&&b.validatingFields&&m([h]),Y[d.name]&&(o.valid=!1,a))break;!a&&(y(Y,d.name)?w?Kr(r.errors,Y,d.name):R(r.errors,d.name,Y[d.name]):M(r.errors,d.name))}!W(g)&&await G(g,a,o)}}return o.valid},le=()=>{for(const t of c.unMount){const a=y(i,t);a&&(a._f.refs?a._f.refs.every(o=>!Te(o)):!Te(a._f.ref))&&we(t)}c.unMount=new Set},X=(t,a)=>!s.disabled&&(t&&a&&R(n,t,a),!re(xe(),l)),E=(t,a,o)=>vr(t,c,{...u.mount?n:j(a)?l:K(t)?{[t]:a}:a},o,a),S=t=>Me(y(u.mount?n:l,t,s.shouldUnregister?y(l,t,[]):[])),T=(t,a,o={})=>{const h=y(i,t);let f=a;if(h){const d=h._f;d&&(!d.disabled&&R(n,t,Fr(a,d)),f=Fe(d.ref)&&$(a)?"":a,xr(d.ref)?[...d.ref.options].forEach(g=>g.selected=f.includes(g.value)):d.refs?ge(d.ref)?d.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(w=>w===g.value):g.checked=f===g.value||!!f)}):d.refs.forEach(g=>g.checked=g.value===f):Be(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||_.state.next({name:t,values:U(n)})))}(o.shouldDirty||o.shouldTouch)&&N(t,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&oe(t)},I=(t,a,o)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const f=a[h],d=t+"."+h,g=y(i,d);(c.array.has(t)||L(f)||g&&!g._f)&&!ne(f)?I(d,f,o):T(d,f,o)}},q=(t,a,o={})=>{const h=y(i,t),f=c.array.has(t),d=U(a);R(n,t,d),f?(_.array.next({name:t,values:U(n)}),(b.isDirty||b.dirtyFields||p.isDirty||p.dirtyFields)&&o.shouldDirty&&_.state.next({name:t,dirtyFields:fe(l,n),isDirty:X(t,d)})):h&&!h._f&&!$(d)?I(t,d,o):T(t,d,o),nr(t,c)&&_.state.next({...r,name:t}),_.state.next({name:u.mount?t:void 0,values:U(n)})},Z=async t=>{u.mount=!0;const a=t.target;let o=a.name,h=!0;const f=y(i,o),d=C=>{h=Number.isNaN(C)||ne(C)&&isNaN(C.getTime())||re(C,y(n,o,C))},g=ar(s.mode),w=ar(s.reValidateMode);if(f){let C,Y;const be=a.type?ir(f._f):hr(t),ie=t.type===Ve.BLUR||t.type===Ve.FOCUS_OUT,Rr=!Gr(f._f)&&!s.resolver&&!y(r.errors,o)&&!f._f.deps||Xr(ie,y(r.touchedFields,o),r.isSubmitted,w,g),Ce=nr(o,c,ie);R(n,o,be),ie?(f._f.onBlur&&f._f.onBlur(t),V&&V(0)):f._f.onChange&&f._f.onChange(t);const Re=N(o,be,ie),Nr=!W(Re)||Ce;if(!ie&&_.state.next({name:o,type:t.type,values:U(n)}),Rr)return(b.isValid||p.isValid)&&(s.mode==="onBlur"?ie&&D():ie||D()),Nr&&_.state.next({name:o,...Ce?{}:Re});if(!ie&&Ce&&_.state.next({...r}),s.resolver){const{errors:Qe}=await se([o]);if(d(be),h){const Tr=or(r.errors,i,o),Xe=or(Qe,i,Tr.name||o);C=Xe.error,o=Xe.name,Y=W(Qe)}}else m([o],!0),C=(await cr(f,c.disabled,n,H,s.shouldUseNativeValidation))[o],m([o]),d(be),h&&(C?Y=!1:(b.isValid||p.isValid)&&(Y=await G(i,!0)));h&&(f._f.deps&&oe(f._f.deps),te(o,Y,C,Re))}},ce=(t,a)=>{if(y(r.errors,a)&&t.focus)return t.focus(),1},oe=async(t,a={})=>{let o,h;const f=he(t);if(s.resolver){const d=await pe(j(t)?t:f);o=W(d),h=t?!f.some(g=>y(d,g)):o}else t?(h=(await Promise.all(f.map(async d=>{const g=y(i,d);return await G(g&&g._f?{[d]:g}:g)}))).every(Boolean),!(!h&&!r.isValid)&&D()):h=o=await G(i);return _.state.next({...!K(t)||(b.isValid||p.isValid)&&o!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:o}:{},errors:r.errors}),a.shouldFocus&&!h&&me(i,ce,t?f:c.mount),h},xe=t=>{const a={...u.mount?n:l};return j(t)?a:K(t)?y(a,t):t.map(o=>y(a,o))},$e=(t,a)=>({invalid:!!y((a||r).errors,t),isDirty:!!y((a||r).dirtyFields,t),error:y((a||r).errors,t),isValidating:!!y(r.validatingFields,t),isTouched:!!y((a||r).touchedFields,t)}),kr=t=>{t&&he(t).forEach(a=>M(r.errors,a)),_.state.next({errors:t?r.errors:{}})},qe=(t,a,o)=>{const h=(y(i,t,{_f:{}})._f||{}).ref,f=y(r.errors,t)||{},{ref:d,message:g,type:w,...C}=f;R(r.errors,t,{...C,...a,ref:h}),_.state.next({name:t,errors:r.errors,isValid:!1}),o&&o.shouldFocus&&h&&h.focus&&h.focus()},Er=(t,a)=>Q(t)?_.state.subscribe({next:o=>"values"in o&&t(E(void 0,a),o)}):E(t,a,!0),We=t=>_.state.subscribe({next:a=>{Qr(t.name,a.name,t.exact)&&zr(a,t.formState||b,Cr,t.reRenderRoot)&&t.callback({values:{...n},...r,...a,defaultValues:l})}}).unsubscribe,pr=t=>(u.mount=!0,p={...p,...t.formState},We({...t,formState:p})),we=(t,a={})=>{for(const o of t?he(t):c.mount)c.mount.delete(o),c.array.delete(o),a.keepValue||(M(i,o),M(n,o)),!a.keepError&&M(r.errors,o),!a.keepDirty&&M(r.dirtyFields,o),!a.keepTouched&&M(r.touchedFields,o),!a.keepIsValidating&&M(r.validatingFields,o),!s.shouldUnregister&&!a.keepDefaultValue&&M(l,o);_.state.next({values:U(n)}),_.state.next({...r,...a.keepDirty?{isDirty:X()}:{}}),!a.keepIsValid&&D()},He=({disabled:t,name:a})=>{(J(t)&&u.mount||t||c.disabled.has(a))&&(t?c.disabled.add(a):c.disabled.delete(a))},De=(t,a={})=>{let o=y(i,t);const h=J(a.disabled)||J(s.disabled);return R(i,t,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:t}},name:t,mount:!0,...a}}),c.mount.add(t),o?He({disabled:J(a.disabled)?a.disabled:s.disabled,name:t}):O(t,!0,a.value),{...h?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:t,onChange:Z,onBlur:Z,ref:f=>{if(f){De(t,a),o=y(i,t);const d=j(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=qr(d),w=o._f.refs||[];if(g?w.find(C=>C===d):d===o._f.ref)return;R(i,t,{_f:{...o._f,...g?{refs:[...w.filter(Te),d,...Array.isArray(y(l,t))?[{}]:[]],ref:{type:d.type,name:t}}:{ref:d}}}),O(t,!1,void 0,d)}else o=y(i,t,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(mr(c.array,t)&&u.action)&&c.unMount.add(t)}}},Se=()=>s.shouldFocusError&&me(i,ce,c.mount),wr=t=>{J(t)&&(_.state.next({disabled:t}),me(i,(a,o)=>{const h=y(i,o);h&&(a.disabled=h._f.disabled||t,Array.isArray(h._f.refs)&&h._f.refs.forEach(f=>{f.disabled=h._f.disabled||t}))},0,!1))},Je=(t,a)=>async o=>{let h;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=U(n);if(_.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:g}=await se();r.errors=d,f=U(g)}else await G(i);if(c.disabled.size)for(const d of c.disabled)M(f,d);if(M(r.errors,"root"),W(r.errors)){_.state.next({errors:{}});try{await t(f,o)}catch(d){h=d}}else a&&await a({...r.errors},o),Se(),setTimeout(Se);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(r.errors)&&!h,submitCount:r.submitCount+1,errors:r.errors}),h)throw h},Dr=(t,a={})=>{y(i,t)&&(j(a.defaultValue)?q(t,U(y(l,t))):(q(t,a.defaultValue),R(l,t,U(a.defaultValue))),a.keepTouched||M(r.touchedFields,t),a.keepDirty||(M(r.dirtyFields,t),r.isDirty=a.defaultValue?X(t,U(y(l,t))):X()),a.keepError||(M(r.errors,t),b.isValid&&D()),_.state.next({...r}))},Ye=(t,a={})=>{const o=t?U(t):l,h=U(o),f=W(t),d=f?l:h;if(a.keepDefaultValues||(l=o),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(fe(l,n))]);for(const w of Array.from(g))y(r.dirtyFields,w)?R(d,w,y(n,w)):q(w,y(d,w))}else{if(Le&&j(t))for(const g of c.mount){const w=y(i,g);if(w&&w._f){const C=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(Fe(C)){const Y=C.closest("form");if(Y){Y.reset();break}}}}if(a.keepFieldsRef)for(const g of c.mount)q(g,y(d,g));else i={}}n=s.shouldUnregister?a.keepDefaultValues?U(l):{}:U(d),_.array.next({values:{...d}}),_.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!b.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!s.shouldUnregister,_.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:f?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!re(t,l)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?fe(l,n):r.dirtyFields:a.keepDefaultValues&&t?fe(l,t):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(t,a)=>Ye(Q(t)?t(n):t,a),Sr=(t,a={})=>{const o=y(i,t),h=o&&o._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),a.shouldSelect&&Q(f.select)&&f.select())}},Cr=t=>{r={...r,...t}},ze={control:{register:De,unregister:we,getFieldState:$e,handleSubmit:Je,setError:qe,_subscribe:We,_runSchema:se,_focusError:Se,_getWatch:E,_getDirty:X,_setValid:D,_setFieldArray:A,_setDisabledField:He,_setErrors:P,_getFieldArray:S,_reset:Ye,_resetDefaultValues:()=>Q(s.defaultValues)&&s.defaultValues().then(t=>{Ge(t,s.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:le,_disableForm:wr,_subjects:_,_proxyFormState:b,get _fields(){return i},get _formValues(){return n},get _state(){return u},set _state(t){u=t},get _defaultValues(){return l},get _names(){return c},set _names(t){c=t},get _formState(){return r},get _options(){return s},set _options(t){s={...s,...t}}},subscribe:pr,trigger:oe,register:De,handleSubmit:Je,watch:Er,setValue:q,getValues:xe,reset:Ge,resetField:Dr,clearErrors:kr,unregister:we,setError:qe,setFocus:Sr,getFieldState:$e};return{...ze,formControl:ze}}function tt(e={}){const s=F.useRef(void 0),r=F.useRef(void 0),[i,l]=F.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!Q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=rt(e);s.current={...c,formState:i}}const n=s.current.control;return n._options=e,Pe(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>l({...n._formState}),reRenderRoot:!0});return l(c=>({...c,isReady:!0})),n._formState.isReady=!0,u},[n]),F.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),F.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),F.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),F.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==i.isDirty&&n._subjects.state.next({isDirty:u})}},[n,i.isDirty]),F.useEffect(()=>{e.values&&!re(e.values,r.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),r.current=e.values,l(u=>({...u}))):n._resetDefaultValues()},[n,e.values]),F.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=gr(i,n),s.current}const dr=({name:e,placeholder:s,type:r="text",className:i="input",rules:l,...n})=>{const{control:u}=ae();return x.jsx(ve,{name:e,control:u,rules:l,render:({field:c,fieldState:V})=>x.jsxs("div",{children:[x.jsx("input",{...c,...n,type:r,className:`${i} ${V.error?"error":""}`,placeholder:s}),V.error&&x.jsx("span",{className:"error-message",children:V.error.message})]})})},st=({name:e,placeholder:s="Selecciona una opción",options:r,className:i="select",rules:l,...n})=>{const{control:u}=ae();return x.jsx(ve,{name:e,control:u,rules:l,render:({field:c,fieldState:V})=>x.jsxs("div",{children:[x.jsxs("select",{...c,...n,className:`${i} ${V.error?"error":""}`,children:[x.jsx("option",{value:"",disabled:!0,children:s}),r.map((k,b)=>x.jsx("option",{value:k.value,children:k.label},b))]}),V.error&&x.jsx("span",{className:"error-message",children:V.error.message})]})})},it=({name:e,placeholder:s,className:r="textarea",rows:i=4,rules:l,label:n,...u})=>{const{control:c}=ae();return x.jsx(ve,{name:e,control:c,rules:l,render:({field:V,fieldState:k})=>x.jsxs("div",{children:[n&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-2",children:n}),x.jsx("textarea",{...V,...u,id:e,className:`${r} ${k.error?"error":""}`,placeholder:s,rows:i}),k.error&&x.jsx("span",{className:"error-message",children:k.error.message})]})})},at=({name:e,label:s,options:r,rules:i,...l})=>{const{control:n}=ae();return x.jsx(ve,{name:e,control:n,rules:i,render:({field:u,fieldState:c})=>x.jsxs("div",{className:"radio-input-container",children:[x.jsxs("p",{className:"radio-input-label",children:[s," ",x.jsx("span",{className:"text-red-500",children:"*"})]}),r.map((V,k)=>x.jsxs("label",{className:`radio-label ${V.className||""}`,children:[x.jsx("input",{...u,...l,className:"radio-input",type:"radio",value:V.value,checked:u.value===V.value}),V.label]},k)),c.error&&x.jsx("span",{className:"text-red-500 text-sm mt-1 block",children:c.error.message})]})})},fr=({name:e,label:s,className:r="text-primary radio-label",rules:i,...l})=>{const{control:n}=ae();return x.jsx(ve,{name:e,control:n,rules:i,render:({field:u,fieldState:c})=>x.jsxs("div",{children:[x.jsxs("label",{className:r,children:[x.jsx("input",{...u,...l,type:"checkbox",className:"checkbox",checked:u.value||!1}),x.jsx("span",{children:s})]}),c.error&&x.jsx("span",{className:"text-red-500 text-sm mt-1 block",children:c.error.message})]})})},lt=({schema:e,onSubmit:s,submitButtonText:r="Enviar",submitButtonClassName:i="btn-submit-secondary",formClassName:l="form-container",gridClassName:n="form-grid",title:u,titleClassName:c="form-title",defaultValues:V={},mode:k="onBlur",acceptConditions:b=!1})=>{const _=tt({defaultValues:(()=>{const m={...V};return e.forEach(A=>{A.type==="hidden"?m[A.name]=A.value:A.defaultValue!==void 0&&!m[A.name]&&(m[A.name]=A.defaultValue)}),m})(),mode:k}),{handleSubmit:H}=_,B={text:(m,A)=>x.jsx(dr,{...A,placeholder:m.placeholder,type:m.inputType||m.type}),email:(m,A)=>x.jsx(dr,{...A,placeholder:m.placeholder,type:m.inputType||m.type}),select:(m,A)=>x.jsx(st,{...A,placeholder:m.placeholder,options:m.options}),textarea:(m,A)=>x.jsx(it,{...A,placeholder:m.placeholder,rows:m.rows,label:m.label}),radio:(m,A)=>x.jsx(at,{...A,label:m.label,options:m.options}),checkbox:(m,A)=>x.jsx(fr,{...A,label:m.label}),hidden:(m,A)=>x.jsx("input",{...A,type:"hidden",value:m.value,readOnly:!0})},D=(m,A)=>{const v=`${m.name}-${A}`,P=m.type==="textarea"?{gridColumn:"1 / -1"}:m.gridColumn?{gridColumn:m.gridColumn}:void 0,O={name:m.name,rules:m.rules,className:m.className,style:P},N=B[m.type];return N?F.cloneElement(N(m,O),{key:v}):(console.warn(`Tipo de campo no reconocido: ${m.type}`),null)};return x.jsx(Ur,{..._,children:x.jsxs("form",{onSubmit:H(s),className:l,children:[u&&x.jsx("h2",{className:c,children:u}),x.jsx("div",{className:n,children:e.filter(m=>m.type!=="textarea").map((m,A)=>D(m,A))}),e.filter(m=>m.type==="textarea").map((m,A)=>x.jsx("div",{className:"mt-6",children:D(m,A)},`textarea-${m.name}-${A}`)),x.jsxs("div",{className:"flex flex-col justify-start mt-12",children:[b&&x.jsx(fr,{name:"acceptConditions",label:x.jsxs("span",{children:["He leído y acepto"," ",x.jsx("a",{href:"/legal_notice",className:"underline",children:"Aviso legal"})," ","y"," ",x.jsx("a",{href:"/privacy_policy",className:"underline",children:"Política de privacidad"})]}),rules:{required:"Debe aceptar los términos y condiciones"}}),x.jsx("button",{type:"submit",className:i,children:r})]})]})})},ct=({schema:e,acceptConditions:s=!1})=>{const r=i=>{console.log("Form data:",i)};return x.jsx(lt,{schema:e,acceptConditions:s,onSubmit:r,title:"SOLICITA PRESUPUESTO",submitButtonText:"Enviar",mode:"onBlur"})};export{ct as default};
